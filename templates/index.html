<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>{{ PlatformName }} — Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Geist:wght@100..900&family=JetBrains+Mono:wght@400&display=swap"
        rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark-dimmed.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        :root {
            --font-geist: 'Geist', sans-serif;
            /* Fluid Typography Scale */
            --text-base: clamp(1rem, 0.95rem + 0.2vw, 1.05rem);
            --text-h1: clamp(2rem, 5vw, 3.5rem);
        }

        body {
            font-family: var(--font-geist);
            background-color: #ffffff;
            color: #111;
            -webkit-font-smoothing: antialiased;
        }

        .prose {
            max-width: 70ch !important;
            font-size: var(--text-base);
            color: #4b5563;
        }

        .nav-blur {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: saturate(180%) blur(10px);
        }

        /* Smooth thumbnail transition */
        .thumb-gray {
            filter: grayscale(1);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .group:hover .thumb-gray {
            filter: grayscale(0);
            transform: scale(1.05);
        }
    </style>
</head>

<body class="min-h-screen flex flex-col">

    <nav class="sticky top-0 z-50 border-b border-zinc-100 nav-blur">
        <div class="max-w-7xl mx-auto px-6 h-14 flex items-center justify-between">
            <a href="/" class="flex items-center transition-opacity hover:opacity-70">
                <span class="font-bold text-base tracking-tighter text-zinc-900 ">{{PlatformName}}</span>
            </a>

            <div class="flex items-center gap-6 text-sm font-medium">
                <!-- for future use  -->
                <!-- <a href="#" class="text-zinc-500 hover:text-black transition-colors">Archive</a> -->
                <a href="#"
                    class="text-black border border-zinc-200 px-3 py-1 rounded-full text-xs hover:border-black transition-all">Subscribe</a>
            </div>
        </div>
    </nav>

    <main class="flex-1 w-full max-w-7xl mx-auto px-6 py-12 lg:py-16">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-16">

            <div class="lg:col-span-8">
                {% if latest %}
                <section>
                    <div class="flex items-center gap-2 mb-4">
                        <span class="w-1.5 h-1.5 rounded-full bg-blue-600 animate-pulse"></span>
                        <span class="text-[10px] font-bold uppercase tracking-[0.2em] text-zinc-400">Featured</span>
                    </div>

                    <a href="/blog/{{ latest.meta.slug }}" class="group block mb-6">
                        <h1
                            class="text-[var(--text-h1)] font-bold text-zinc-900 leading-[1.1] tracking-tighter group-hover:text-zinc-600 transition-colors">
                            {{ latest.meta.title }}
                        </h1>
                    </a>

                    <div class="flex items-center gap-4 text-xs font-medium text-zinc-400 mb-10">
                        <span class="text-zinc-900 font-semibold">{{ latest.meta.author.name }}</span>
                        <span class="text-zinc-200">|</span>
                        <time>{{ latest.meta.updated_at.strftime("%B %d, %Y") }}</time>
                    </div>

                    <div class="relative">
                        <div id="featured-content" class="prose prose-zinc line-clamp-[10] opacity-80">
                        </div>
                        <div class="mt-8">
                            <a href="/blog/{{ latest.meta.slug }}"
                                class="inline-flex items-center gap-2 text-sm font-bold border-b-2 border-zinc-900 pb-0.5 hover:text-zinc-500 hover:border-zinc-300 transition-all">
                                Read the full story
                                <i data-lucide="arrow-right" class="w-4 h-4"></i>
                            </a>
                        </div>
                    </div>
                </section>
                {% endif %}
            </div>

            <div class="lg:col-span-4 lg:border-l lg:border-zinc-100 lg:pl-12">
                <h3 class="text-[10px] font-bold uppercase tracking-[0.2em] text-zinc-400 mb-8">Recent Stories</h3>

                {% if blogs %}
                <div class="space-y-10">
                    {% for b in blogs %}
                    <a href="/blog/{{ b.slug }}" class="group flex items-start gap-4">
                        <div class="w-16 h-16 shrink-0 rounded-lg overflow-hidden bg-zinc-50 border border-zinc-100">
                            {% if b.thumbnail_url %}
                            <img src="{{ b.thumbnail_url }}" alt="" class="w-full h-full object-cover thumb-gray">
                            {% else %}
                            <div class="w-full h-full flex items-center justify-center text-zinc-200">
                                <i data-lucide="image" class="w-4 h-4"></i>
                            </div>
                            {% endif %}
                        </div>

                        <div class="flex-1 min-w-0">
                            <span class="text-[10px] font-bold text-zinc-400 uppercase tracking-widest block mb-1">
                                {{ b.updated_at.strftime("%b %d") }}
                            </span>
                            <h4
                                class="text-sm font-bold text-zinc-900 leading-snug group-hover:text-zinc-500 transition-colors line-clamp-2">
                                {{ b.title }}
                            </h4>
                        </div>
                    </a>
                    {% endfor %}
                </div>
                {% else %}
                <p class="text-xs text-zinc-400 italic">No other stories yet.</p>
                {% endif %}

                <div class="mt-16 p-6 bg-zinc-50 rounded-xl border border-zinc-100">
                    <h4 class="text-sm font-bold text-zinc-900 mb-2">Subscribe</h4>
                    <p class="text-xs text-zinc-500 leading-relaxed mb-4">Get the latest technical write-ups in your
                        inbox.</p>
                    <div class="flex flex-col gap-2">
                        <input type="email" placeholder="you@example.com"
                            class="bg-white border border-zinc-200 rounded-lg px-3 py-2 text-xs focus:ring-1 ring-black outline-none transition-all">
                        <button
                            class="bg-zinc-900 text-white text-xs font-bold py-2 rounded-lg hover:bg-black transition-all">Join</button>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <footer class="py-12 border-t border-zinc-100 bg-white">
        <div class="max-w-7xl mx-auto px-6 flex justify-between items-center">
            <span class="text-[10px] font-bold  tracking-widest text-zinc-400">© 2026 {{PlatformName}}</span>
            <div class="flex gap-4">
                <a href="#" class="text-zinc-400 hover:text-black transition-colors"><i data-lucide="github"
                        class="w-4 h-4"></i></a>
                <a href="#" class="text-zinc-400 hover:text-black transition-colors"><i data-lucide="twitter"
                        class="w-4 h-4"></i></a>
            </div>
        </div>
    </footer>

    <script>
        lucide.createIcons();

        {% if latest %}
        const content = {{ latest.content | tojson }};
        const container = document.getElementById('featured-content');
        if (container && content) {
            container.innerHTML = marked.parse(content);
            container.querySelectorAll('pre code').forEach((el) => {
                hljs.highlightElement(el);
            });
        }
        {% endif %}
    </script>
</body>

</html>